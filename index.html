<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>åŸç¥æ¬§éå®ˆæ’å®šå¾‹æ£€æµ‹ä»ª</title>
    <style>
        /* è«å¨œæ˜Ÿç©ºèƒŒæ™¯ */
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            overflow-x: hidden;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(12px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #D4A574, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(212,165,116,0.5);
        }
        .subtitle {
            text-align: center;
            color: #a0a0a0;
            margin-bottom: 30px;
        }
        .question {
            margin: 30px 0;
            padding: 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            border-left: 4px solid #D4A574;
        }
        .question h3 {
            margin: 0 0 15px 0;
            color: #FFD700;
        }
        .options label {
            display: block;
            padding: 12px;
            margin: 8px 0;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .options label:hover {
            background: rgba(212,165,116,0.2);
            transform: translateX(5px);
        }
        .options input[type="radio"] {
            margin-right: 12px;
            accent-color: #D4A574;
        }
        .submit-btn {
            width: 100%;
            padding: 16px;
            margin-top: 30px;
            background: linear-gradient(45deg, #D4A574, #B8860B);
            border: none;
            border-radius: 10px;
            color: #000;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(212,165,116,0.6);
        }
        /* ç»“æœé¡µ */
        .result-page {
            display: none;
            text-align: center;
            animation: fadeIn 1s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .fortune-card {
            background: rgba(0,0,0,0.3);
            border: 2px solid #D4A574;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 0 30px rgba(212,165,116,0.4);
        }
        .fortune-title {
            font-size: 2em;
            margin: 10px 0;
        }
        .fortune-text {
            font-size: 1.2em;
            line-height: 1.6;
            color: #FFD700;
        }
        .fortune-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        .good, .bad {
            padding: 15px;
            border-radius: 10px;
        }
        .good {
            background: rgba(76,175,80,0.2);
            border: 1px solid #4CAF50;
        }
        .bad {
            background: rgba(244,67,54,0.2);
            border: 1px solid #f44336;
        }
        .good h4, .bad h4 {
            margin: 0 0 10px 0;
        }
        .good ul, .bad ul {
            margin: 0;
            padding-left: 20px;
        }
        .debug-info {
            margin-top: 30px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            font-size: 0.9em;
            color: #a0a0a0;
        }
        .disclaimer {
            margin-top: 40px;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            font-size: 0.85em;
            color: #888;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é—®å·é¡µ -->
        <div id="surveyPage">
            <h1>âš—ï¸ åŸç¥æ¬§éå®ˆæ’å®šå¾‹æ£€æµ‹ä»ª</h1>
            <p class="subtitle">ã€æœ¬æµ‹è¯•ä»…ä¾›å¨±ä¹ï¼Œç»“æœåŸºäºè™šæ„ç®—æ³•ã€‘</p>
            
            <p style="text-align:center; color:#FFD700; margin-bottom:30px;">
                æ£€æµ‹ä½ çš„æç“¦ç‰¹èƒ½é‡å°è®°ï¼Œç”Ÿæˆä¸“å±æŠ½å¡å»ºè®®
            </p>

            <!-- é—®é¢˜1 -->
            <div class="question">
                <h3>1. ä½ çš„æ¯æ—¥åŸçŸ³æ ‘è„‚ï¼Œå¹³å‡å¤šä¹…æ¸…ç©ºï¼Ÿ</h3>
                <div class="options">
                    <label><input type="radio" name="q1" value="1"> 0-30åˆ†é’Ÿï¼ˆè½»åº¦æ¢ç´¢è€…ï¼‰</label>
                    <label><input type="radio" name="q1" value="2"> 30-120åˆ†é’Ÿï¼ˆæ—¥å¸¸å§”æ‰˜å‹ï¼‰</label>
                    <label><input type="radio" name="q1" value="3"> 120-300åˆ†é’Ÿï¼ˆæ·±åº¦æ²‰æµ¸å‹ï¼‰</label>
                    <label><input type="radio" name="q1" value="4"> 300åˆ†é’Ÿä»¥ä¸Šï¼ˆä¸–ç•Œå±…æ°‘å‹ï¼‰</label>
                </div>
            </div>

            <!-- é—®é¢˜2 -->
            <div class="question">
                <h3>2. ä½ ä¸ºç¥ˆæ„¿æ›¾çŒ®ç¥­è¿‡çš„æœ€é«˜å•ç¬”é‡‘é¢ï¼Ÿ</h3>
                <div class="options">
                    <label><input type="radio" name="q2" value="0"> 0å…ƒï¼ˆéšç¼˜ä¿®è¡Œæµï¼‰</label>
                    <label><input type="radio" name="q2" value="1"> 6-98å…ƒï¼ˆæœˆå¡ä¿å…»æµï¼‰</label>
                    <label><input type="radio" name="q2" value="2"> 99-998å…ƒï¼ˆä¸­æ°ªä¿¡ä»°æµï¼‰</label>
                    <label><input type="radio" name="q2" value="3"> 999å…ƒ+ï¼ˆæç“¦ç‰¹å¤§é™†è‚¡ä¸œï¼‰</label>
                </div>
            </div>

            <!-- é—®é¢˜3 -->
            <div class="question">
                <h3>3. ä½ æ›´å€¾å‘äºåœ¨ä½•æ—¶è¿›è¡Œç¥ˆæ„¿ï¼Ÿï¼ˆå‡­ç›´è§‰ï¼‰</h3>
                <div class="options">
                    <label><input type="radio" name="q3" value="1"> ç‰ˆæœ¬æ›´æ–°å1å°æ—¶å†…ï¼ˆæ°”åœºæœ€çº¯å‡€ï¼‰</label>
                    <label><input type="radio" name="q3" value="2"> æ¯æ—¥å§”æ‰˜åˆ·æ–°åï¼ˆæ—¥å¸¸è¿åŠ¿é«˜å³°ï¼‰</label>
                    <label><input type="radio" name="q3" value="3"> æ·±å¤œ0-2ç‚¹ï¼ˆæœåŠ¡å™¨ä½è´Ÿè½½ç„å­¦ï¼‰</label>
                    <label><input type="radio" name="q3" value="4"> å®Œå…¨éšæœºï¼Œçœ‹å¿ƒæƒ…ï¼ˆæ— è§„å¾‹æµï¼‰</label>
                </div>
            </div>

            <!-- é—®é¢˜4 -->
            <div class="question">
                <h3>4. å›å¿†æœ€è¿‘7å¤©ï¼Œä½ å®é™…ä¸Šçº¿åŸç¥çš„å¤©æ•°æ˜¯ï¼Ÿ</h3>
                <div class="options">
                    <label><input type="radio" name="q4" value="1"> 0-1å¤©ï¼ˆå§”æ‰˜ï¼Ÿä»€ä¹ˆå§”æ‰˜ï¼Ÿï¼‰</label>
                    <label><input type="radio" name="q4" value="2"> 2-3å¤©ï¼ˆæƒ³èµ·æ¥å°±åšï¼‰</label>
                    <label><input type="radio" name="q4" value="3"> 4-5å¤©ï¼ˆè€ç©å®¶åŸºæœ¬åŠŸï¼‰</label>
                    <label><input type="radio" name="q4" value="4"> 6-7å¤©ï¼ˆå…¨å‹¤æˆ˜ç¥ï¼‰</label>
                </div>
            </div>

            <!-- é—®é¢˜5 -->
            <div class="question">
                <h3>5. ä½ çš„æŠ½å¡å“²å­¦æ˜¯ï¼Ÿ</h3>
                <div class="options">
                    <label><input type="radio" name="q5" value="1"> å•æŠ½å‡ºå¥‡è¿¹ï¼ˆå«åˆ€æ•™å¿ å®ä¿¡å¾’ï¼‰</label>
                    <label><input type="radio" name="q5" value="2"> åè¿çœŸç”·äººï¼ˆä¿åº•æ•™å¤§ç¥­å¸ï¼‰</label>
                    <label><input type="radio" name="q5" value="3"> æ”’æ»¡180æŠ½å†åŠ¨ï¼ˆç»ˆæå›¤å›¤é¼ ï¼‰</label>
                    <label><input type="radio" name="q5" value="4"> æŠ½åˆ°å‡ºä¸ºæ­¢ï¼ˆæ¢­å“ˆæ˜¯ä¸€ç§æ™ºæ…§ï¼‰</label>
                </div>
            </div>

            <!-- é—®é¢˜6 -->
            <div class="question">
                <h3>6. ä½ è®¤ä¸ºè‡ªå·±å¼ºåŒ–åœ£é—ç‰©çš„æ‰‹æ°”å¦‚ä½•ï¼Ÿ</h3>
                <div class="options">
                    <label><input type="radio" name="q6" value="1"> æ¬¡æ¬¡30%èµ·æ­¥ï¼ˆæ¬§ç¥åœ¨ä¸–ï¼‰</label>
                    <label><input type="radio" name="q6" value="2"> å¶å°”èƒ½æˆåŒï¼ˆæ­£å¸¸äººï¼‰</label>
                    <label><input type="radio" name="q6" value="3"> å•æš´éƒ½æ­ªç»™ç”Ÿå‘½ï¼ˆéé…‹æœ¬é…‹ï¼‰</label>
                    <label><input type="radio" name="q6" value="4"> ä¸æ•¢å¼ºåŒ–ï¼Œæ€•æ­ªï¼ˆåˆ›ä¼¤ååº”æ¿€ï¼‰</label>
                </div>
            </div>

            <!-- é—®é¢˜7 -->
            <div class="question">
                <h3>7. ç”¨1-10åˆ†è¯„ä¼°ï¼Œä»Šå¤©"æç“¦ç‰¹"å¯¹ä½ çš„å‹å¥½åº¦ï¼Ÿ</h3>
                <div class="options">
                    <label><input type="radio" name="q7" value="1"> 1åˆ†ï¼ˆå¤©ç†éš¾å®¹ï¼‰</label>
                    <label><input type="radio" name="q7" value="3"> 3åˆ†ï¼ˆé£é¾™åºŸå¢Ÿï¼‰</label>
                    <label><input type="radio" name="q7" value="5"> 5åˆ†ï¼ˆæ™®é€šå¤©æ°”ï¼‰</label>
                    <label><input type="radio" name="q7" value="7"> 7åˆ†ï¼ˆç’ƒæœˆæ¸¯å£ï¼‰</label>
                    <label><input type="radio" name="q7" value="10"> 10åˆ†ï¼ˆå¤©ç†æ˜¯æˆ‘å¦ˆï¼‰</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">ğŸ”® ç”Ÿæˆæˆ‘çš„èƒ½é‡å°è®°</button>
        </div>

        <!-- ç»“æœé¡µ -->
        <div id="resultPage" class="result-page">
            <div id="fortuneCard" class="fortune-card">
                <div class="fortune-title" id="fortuneTitle"></div>
                <div class="fortune-text" id="fortuneText"></div>
            </div>

            <div id="fortuneDetails" class="fortune-details">
                <!-- ä»Šæ—¥é€‚å®œ/ä¸å®œ -->
            </div>

            <div class="debug-info" id="debugInfo"></div>
        </div>

        <!-- å…è´£å£°æ˜ -->
        <div class="disclaimer">
            <p><strong>ğŸ“œ æ—…è¡Œè€…é¡»çŸ¥ï¼š</strong></p>
            <p>1. æœ¬æ£€æµ‹ä»…ä¾›å¨±ä¹ï¼Œç»“æœåŸºäºè™šæ„ç®—æ³•ç”Ÿæˆ</p>
            <p>2. ä¸æ”¶é›†ä»»ä½•éšç§ä¿¡æ¯ï¼ˆUID/IP/è®¾å¤‡ï¼‰</p>
            <p>3. æ•°æ®ç”¨äºç»Ÿè®¡å­¦è¯¾ç¨‹ä½œä¸šï¼Œå·²åŒ¿ååŒ–å¤„ç†</p>
            <p>4. å®˜æ–¹æŠ½å¡æ¦‚ç‡è¯·ä»¥æ¸¸æˆå†…å…¬ç¤ºä¸ºå‡†ï¼ˆ0.6%ï¼‰</p>
        </div>
    </div>

    <script>
        // ========== ç­¾æ–‡æ•°æ®åº“ ==========
        const FORTUNE_DATABASE = {
            // ä¸Šä¸Šç­¾ï¼ˆ3ä¸ªï¼‰
            'top-0': { title: 'ğŸŒŸ æ¬§çš‡é™„ä½“Â·å¤©ç†é’¦å®š', level: 'ä¸Šä¸Šç­¾', text: 'ä»Šæ—¥è¿åŠ¿çˆ†æ£šï¼å»ºè®®ç«‹åˆ»å•æŠ½è¯•æ¢ï¼Œåè¿å¿…å‡ºåŒé»„è›‹ï¼', good: ['å•æŠ½è¯•æ¢', 'åè¿æ¢­å“ˆ', 'æ­¦å™¨æ± è®¸æ„¿'], bad: ['æ”’åŸçŸ³', 'è§‚æœ›'] },
            'top-1': { title: 'ğŸ’ 648åœ£é—ç‰©Â·è‚¡ä¸œç‰¹æƒ', level: 'ä¸Šä¸Šç­¾', text: 'æç“¦ç‰¹å¤§é™†ä»Šå¤©ä¸ºä½ è½¬åŠ¨ï¼æ­ªäº†ç®—æˆ‘çš„ï¼', good: ['è§’è‰²æ± ', 'æ­¦å™¨æ± ', 'å¸¸é©»å«åˆ€'], bad: ['é€€å‡ºæ¸¸æˆ', 'çœ‹ä¸»æ’­æŠ½å¡'] },
            'top-2': { title: 'ğŸ”¥ 648çœŸç”·äººÂ·ä¿åº•ç»ç¼˜ä½“', level: 'ä¸Šä¸Šç­¾', text: 'ä¿åº•æœºåˆ¶ï¼Ÿä¸å­˜åœ¨çš„ï¼ä»Šå¤©ä½ å°±æ˜¯ç±³å“ˆæ¸¸ç­–åˆ’ï¼', good: ['æŠ½å–é™å®šUP', 'å†²å‘½åº§', 'æŠ½ä¸“æ­¦'], bad: ['çŠ¹è±«', 'æ°ªé‡‘å‰çœ‹æ”»ç•¥'] },

            // ä¸Šç­¾ï¼ˆ6ä¸ªï¼‰
            'good-0': { title: 'âœ¨ ç’ƒæœˆæ¸¯é¦–å¯ŒÂ·è´¢è¿äº¨é€š', level: 'ä¸Šç­¾', text: 'è´¢è¿+æŠ½å¡è¿åŒbuffï¼Œå»ºè®®å…ˆä¹°æœˆå¡å†æŠ½ï¼', good: ['æœˆå¡åæŠ½', 'é™å®šæ± ', 'å•æŠ½å«åˆ€'], bad: ['æ­¦å™¨æ± ', 'æ¢­å“ˆ'] },
            'good-1': { title: 'ğŸ€ é£èµ·åœ°æ¬§çš‡Â·ç„å­¦æœ‰æ•ˆ', level: 'ä¸Šç­¾', text: 'ç„å­¦åœ°ç‚¹åŠ æˆ50%ï¼å»é£èµ·åœ°å¤§æ©¡æ ‘ä¸‹è¯•è¯•ï¼', good: ['é£èµ·åœ°æŠ½å¡', 'å•æŠ½å‡ºå¥‡è¿¹', 'é›¶ç‚¹åæŠ½'], bad: ['æ­£åˆæŠ½å¡', 'ä¸Šç­æ‘¸é±¼æŠ½'] },
            'good-2': { title: 'ğŸ² åè¿çœŸç”·äººÂ·ä¿åº•ä¿æŠ¤', level: 'ä¸Šç­¾', text: 'åè¿ä¿åº•æœºåˆ¶ä»Šå¤©ç‰¹åˆ«çµï¼å†²ä¸€å‘ï¼', good: ['åè¿æŠ½', 'è§’è‰²æ± ', 'æ”’å¤Ÿ180'], bad: ['å•æŠ½', 'æ­¦å™¨æ± '] },
            'good-3': { title: 'ğŸŒ™ æœˆå¡ä¿¡å¾’Â·ç™½å«–ä¹‹å…‰', level: 'ä¸Šç­¾', text: 'ç™½å«–å…šä»Šæ—¥è¿åŠ¿+200%ï¼Œæœˆå¡ååˆ©ï¼', good: ['ç™½å«–å•æŠ½', 'æœˆå¡è¡¥è´§åæŠ½', 'æ—¥å¸¸å«åˆ€'], bad: ['æ°ªé‡‘', 'å†²åŠ¨æ¶ˆè´¹'] },
            'good-4': { title: 'âš¡ ç»ˆæå›¤å›¤é¼ Â·æ·±æ¸Šç‹è€…', level: 'ä¸Šç­¾', text: 'å›¤äº†180æŠ½ï¼Ÿä»Šå¤©å°±æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»ï¼', good: ['180æŠ½æ¢­å“ˆ', 'æ»¡å‘½å†²åˆº', 'ä¸“æ­¦æ± '], bad: ['ç»§ç»­å›¤', 'çœ‹ä¸»æ’­'] },
            'good-5': { title: 'ğŸ¯ å•æŠ½å‡ºå¥‡è¿¹Â·å«åˆ€å¤§å¸ˆ', level: 'ä¸Šç­¾', text: 'å«åˆ€ç„å­¦ä»Šå¤©æœ‰æ•ˆï¼å…ˆå•æŠ½30å‘è¯•è¯•ï¼', good: ['å•æŠ½å«åˆ€', '30å‘ååè¿', 'è§’è‰²æ± '], bad: ['ç›´æ¥åè¿', 'æ­¦å™¨æ± '] },

            // ä¸­ç­¾ï¼ˆ12ä¸ªï¼‰
            'mid-0': { title: 'ğŸ“Š æç“¦ç‰¹å¹³å‡è„¸Â·ä¼—ç”Ÿå¹³ç­‰', level: 'ä¸­ç­¾', text: 'ä»Šæ—¥è¿åŠ¿=æœåŠ¡å™¨å¹³å‡å€¼ï¼Œå»ºè®®ä½›ç³»æŠ½å¡', good: ['å…è´¹å•æŠ½', 'éšç¼˜å«åˆ€', 'è§‚æœ›'], bad: ['æ°ªé‡‘', 'æ¢­å“ˆ'] },
            'mid-1': { title: 'ğŸ­ æ™®é€šå¤©æ°”Â·æ— é£æ— æµª', level: 'ä¸­ç­¾', text: 'ä»Šå¤©é€‚åˆæ¸…æ ‘è„‚ï¼ŒæŠ½å¡å»ºè®®æ˜å¤©å†è¯´', good: ['åˆ·æœ¬', 'åšå§”æ‰˜', 'æ”’åŸçŸ³'], bad: ['æŠ½å¡', 'æ°ªé‡‘'] },
            'mid-2': { title: 'â˜¯ï¸ æ¬§éå®ˆæ’Â·åŠ¨æ€å¹³è¡¡', level: 'ä¸­ç­¾', text: 'ä»Šæ—¥éé…‹=æ˜æ—¥æ¬§çš‡ï¼Œå»ºè®®å‚¨è“„è¿åŠ¿', good: ['æ”’', 'è§‚æœ›', 'çœ‹æ¬§çš‡ç§€'], bad: ['å•æŠ½', 'åè¿'] },
            'mid-3': { title: 'ğŸª ä¿åº•æ•™ä¿¡å¾’Â·ä¸­è§„ä¸­çŸ©', level: 'ä¸­ç­¾', text: 'ä¿åº•ç¨³å¦‚è€ç‹—ï¼Œå»ºè®®æ”’åˆ°90æŠ½å†åŠ¨', good: ['æ”’å¤Ÿ90', 'æ—¥å¸¸å«åˆ€', 'ç­‰UP'], bad: ['å†²åŠ¨', 'æ­¦å™¨æ± '] },
            'mid-4': { title: 'ğŸŒ§ï¸ éé…‹å‰å…†Â·æ²¹éº¦èœé¢„è­¦', level: 'ä¸­ç­¾', text: 'ä½“æ„Ÿæ¦‚ç‡-20%ï¼Œå»ºè®®å…ˆåƒé¡¿å¥½çš„', good: ['åƒé¥­', 'åˆ·æœ¬', 'ä¸‹çº¿'], bad: ['æŠ½å¡', 'çœ‹å¡æ± '] },
            'mid-5': { title: 'ğŸ¢ åŸç¥æ›²çº¿Â·ä¸Šä¸‹æ³¢åŠ¨', level: 'ä¸­ç­¾', text: 'è¿åŠ¿åœ¨Â±5%æ³¢åŠ¨ï¼Œå»ºè®®è§‚å¯Ÿæ¬§çš‡', good: ['è§‚æœ›', 'å­¦ä¹ ', 'æ”’'], bad: ['æ¢­å“ˆ', 'æ°ª'] },
            'mid-6': { title: 'ğŸ¦ å›¤å›¤é¼ æ—¥å¸¸Â·ç¨³æ­¥å‰è¿›', level: 'ä¸­ç­¾', text: 'ä»Šå¤©é€‚åˆæ”’ï¼Œæ˜å¤©é€‚åˆæŠ½', good: ['æ”’', 'åšæ—¥å¸¸', 'æ¸…ä»»åŠ¡'], bad: ['æŠ½', 'èŠ±'] },
            'mid-7': { title: 'ğŸ® æ—¥å¸¸ç©å®¶Â·æ— æ‚²æ— å–œ', level: 'ä¸­ç­¾', text: 'æŠ½ä¸æŠ½éƒ½è¡Œï¼Œåæ­£ä¿åº•è¿˜åœ¨', good: ['æ—¥å¸¸', 'æ¸…ä½“', 'ä¸‹çº¿'], bad: ['æ°ª', 'èµŒ'] },
            'mid-8': { title: 'ğŸ¤” é€‰æ‹©å›°éš¾Â·çº ç»“ä½“è´¨', level: 'ä¸­ç­¾', text: 'å»ºè®®æ·éª°å­å†³å®šï¼Œç„å­¦äº¤ç»™å¤©æ„', good: ['æ·éª°å­', 'å•æŠ½', 'ä¸æŠ½'], bad: ['åè¿', 'æ°ª'] },
            'mid-9': { title: 'ğŸ“ˆ æ¦‚ç‡è®ºä¿¡å¾’Â·ç†æ€§æŠ½å¡', level: 'ä¸­ç­¾', text: 'æ•°å­¦å‘Šè¯‰ä½ ä»Šå¤©æœŸæœ›å€¼<0.6%ï¼Œå»ºè®®èººå¹³', good: ['èºº', 'æ”’', 'ç­‰'], bad: ['æ°ª', 'å†²'] },
            'mid-10': { title: 'ğŸ² æç“¦ç‰¹NPCÂ·èƒŒæ™¯æ¿', level: 'ä¸­ç­¾', text: 'ä»Šå¤©ä½ æ˜¯NPCï¼Œå»ºè®®çœ‹åˆ«äººæŠ½', good: ['çœ‹ç›´æ’­', 'åˆ·Bç«™', 'æ”’'], bad: ['è‡ªå·±æŠ½', 'ä¸Šå¤´'] },
            'mid-11': { title: 'â˜ï¸ å¤©æ°”éšæœºÂ·æ— å½±å“', level: 'ä¸­ç­¾', text: 'ä»Šå¤©æŠ½å¡ç»“æœ=æœåŠ¡å™¨éšæœºæ•°ï¼Œä¸å¤©æ°”æ— å…³', good: ['éšæ„', 'ä½›ç³»', 'éšç¼˜'], bad: ['ç„å­¦', 'æ°ª'] },

            // ä¸‹ç­¾ï¼ˆ4ä¸ªï¼‰
            'bad-0': { title: 'ğŸ’€ 648åå‘ä¿æŠ¤Â·æ€ç†Ÿé¢„è­¦', level: 'ä¸‹ç­¾', text: 'ç³»ç»Ÿæ£€æµ‹åˆ°è‚¡ä¸œèº«ä»½ï¼Œæ¦‚ç‡-50%', good: ['ä¸‹çº¿', 'é€€æ¸¸', 'åˆ æ¸¸æˆ'], bad: ['æ°ªé‡‘', 'æŠ½å¡', 'çœ‹æ± å­'] },
            'bad-1': { title: 'ğŸª¦ éé…‹è®¤è¯Â·ä»Šæ—¥ä¸å®œ', level: 'ä¸‹ç­¾', text: 'ä»Šæ—¥æŠ½å¡æˆåŠŸç‡0.01%ï¼Œå»ºè®®ç»™ä¸»æ’­ä¸Šä¾›', good: ['çœ‹ä¸»æ’­', 'åˆ·æœ¬', 'ä¸‹çº¿'], bad: ['æŠ½', 'æ°ª', 'å«åˆ€'] },
            'bad-2': { title: 'ğŸ² ä¿åº•ç»ç¼˜ä½“Â·æ­ªç‹ä¹‹ç‹', level: 'ä¸‹ç­¾', text: 'ä»Šæ—¥ä¿åº•å¿…æ­ªï¼Œå»ºè®®æ”’åˆ°180å†åŠ¨', good: ['æ”’180', 'ç­‰ä¸‹æ¬¡', 'ä½›ç³»'], bad: ['åè¿', 'å†²'] },
            'bad-3': { title: 'ğŸ” 648å°å°Â·éé…‹é¢†åŸŸ', level: 'ä¸‹ç­¾', text: 'ä»Šæ—¥æ°ªé‡‘å…¨éƒ¨è½¬åŒ–ä¸ºæç“¦ç‰¹GDPï¼Œè¿›ä¸äº†è‡ªå·±èƒŒåŒ…', good: ['ä¸æ°ª', 'ä¸æŠ½', 'ä¸åŠ¨'], bad: ['648', 'åè¿', 'æ­¦å™¨æ± '] },

            // ä¸‹ä¸‹ç­¾ï¼ˆ2ä¸ªï¼‰
            'worst-0': { title: 'â˜ ï¸ 648ç»ˆæéé…‹Â·å¤©ç†éš¾å®¹', level: 'ä¸‹ä¸‹ç­¾', text: 'ä»Šæ—¥æŠ½å¡=åŸçŸ³é”€æ¯å™¨ï¼Œå»ºè®®ç»™mhyæ‰“é’±åˆ«æŠ½äº†', good: ['ä¸‹çº¿', 'é€€å‘', 'çœ‹é£æ™¯'], bad: ['æŠ½å¡', 'æ°ªé‡‘', 'å«åˆ€'] },
            'worst-1': { title: 'ğŸ“‰ 648åå‘å‡ºè´§Â·è¶Šæ°ªè¶Šé', level: 'ä¸‹ä¸‹ç­¾', text: 'ä»Šæ—¥æ°ªé‡‘è¶Šå¤šï¼Œæ¦‚ç‡è¶Šä½ã€‚ç™½å«–æˆ–æ¬§ï¼Ÿ', good: ['ç™½å«–', 'å•æŠ½', 'ä¸‹çº¿'], bad: ['æ°ªé‡‘', 'åè¿', 'å†²'] }
        };

        // ========== ç¡®å®šæ€§å“ˆå¸Œå‡½æ•° ==========
        function hashString(str) {
            let hash = 5381;
            for (let i = 0; i < str.length; i++) {
                hash = (hash * 33) ^ str.charCodeAt(i);
            }
            return hash >>> 0; // è½¬ä¸ºæ­£æ•´æ•°
        }

        // ========== è·å–å½“å‰æ˜ŸæœŸå‡  ==========
        function getCurrentWeekday() {
            return new Date().getDay(); // 0=æ˜ŸæœŸæ—¥, 1=æ˜ŸæœŸä¸€, ..., 6=æ˜ŸæœŸå…­
        }

        // ========== ç”Ÿæˆè¿åŠ¿ ==========
        function calculateFortune(answers) {
            // ç­”æ¡ˆæ ¼å¼: q1,q2,q3,q4,q5,q6,q7
            const answerStr = answers.join(',');
            const weekday = getCurrentWeekday();
            
            // ç¡®å®šæ€§å“ˆå¸Œ: ç­”æ¡ˆå­—ç¬¦ä¸² + æ˜ŸæœŸå‡ 
            const hash = hashString(answerStr + weekday);
            
            // åˆ†é…åˆ°27ä¸ªç­¾ï¼ˆ0-26ï¼‰
            const fortuneIndex = hash % 27;
            
            // æ˜ å°„åˆ°ç­¾æ–‡ID
            if (fortuneIndex < 3) return 'top-' + fortuneIndex;
            if (fortuneIndex < 9) return 'good-' + (fortuneIndex - 3);
            if (fortuneIndex < 21) return 'mid-' + (fortuneIndex - 9);
            if (fortuneIndex < 25) return 'bad-' + (fortuneIndex - 21);
            return 'worst-' + (fortuneIndex - 25);
        }

        // ========== æ”¶é›†æ‰€æœ‰ç­”æ¡ˆ ==========
        function collectAnswers() {
            const answers = [];
            for (let i = 1; i <= 7; i++) {
                const name = 'q' + i;
                const selected = document.querySelector(`input[name="${name}"]:checked`);
                if (selected) {
                    answers.push(selected.value);
                } else {
                    alert(`è¯·å›ç­”ç¬¬${i}é¢˜ï¼`);
                    return null;
                }
            }
            return answers;
        }

        // ========== äº¤å‰éªŒè¯æ— æ•ˆæ ·æœ¬ ==========
        function validateAnswers(answers) {
            const q1 = parseInt(answers[0]); // å£°ç§°æ´»è·ƒåº¦
            const q4 = parseInt(answers[3]); // å®é™…å¤©æ•°
            
            // çŸ›ç›¾æ£€æµ‹ï¼šå£°ç§°300åˆ†é’Ÿä½†å®é™…åªä¸Šçº¿1-2å¤©
            if (q1 >= 3 && q4 <= 2) {
                return { valid: false, reason: 'çŸ›ç›¾æ ·æœ¬: é«˜æ—¶é•¿ä½å¤©æ•°' };
            }
            
            // æç«¯å€¼æ£€æµ‹ï¼šç›´è§‰10åˆ†ä½†è‡ªè®¤éé…‹
            const q6 = parseInt(answers[5]);
            const q7 = parseInt(answers[6]);
            if (q7 >= 9 && q6 >= 3) {
                return { valid: false, reason: 'çŸ›ç›¾æ ·æœ¬: é«˜ç›´è§‰ä½è¿æ°”' };
            }
            
            return { valid: true };
        }

        // ========== æäº¤è¡¨å• ==========
        document.getElementById('surveyForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const answers = collectAnswers();
            if (!answers) return;
            
            // éªŒè¯æ ·æœ¬æœ‰æ•ˆæ€§
            const validation = validateAnswers(answers);
            if (!validation.valid) {
                alert(`æ£€æµ‹åˆ°æ— æ•ˆæ ·æœ¬ï¼š${validation.reason}`);
                return;
            }
            
            // è®¡ç®—è¿åŠ¿
            const fortuneId = calculateFortune(answers);
            const fortune = FORTUNE_DATABASE[fortuneId];
            
            // æ˜¾ç¤ºç»“æœ
            showFortune(fortune, answers);
            
            // æäº¤æ•°æ®åˆ°GitHub
            await submitToGitHub(answers, fortuneId, fortune.level);
        });

        // ========== æ˜¾ç¤ºè¿åŠ¿ ==========
        function showFortune(fortune, answers) {
            document.getElementById('surveyPage').style.display = 'none';
            document.getElementById('resultPage').style.display = 'block';
            
            document.getElementById('fortuneTitle').innerHTML = 
                `<span style="font-size:1.5em;">${fortune.title}</span>`;
            document.getElementById('fortuneText').textContent = fortune.text;
            
            // ç”Ÿæˆé€‚å®œ/ä¸å®œ
            const detailsHTML = `
                <div class="good">
                    <h4>âœ… ä»Šæ—¥é€‚å®œ</h4>
                    <ul>
                        ${fortune.good.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
                <div class="bad">
                    <h4>âŒ ä»Šæ—¥ä¸å®œ</h4>
                    <ul>
                        ${fortune.bad.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            `;
            document.getElementById('fortuneDetails').innerHTML = detailsHTML;
            
            // è°ƒè¯•ä¿¡æ¯
            const weekday = getCurrentWeekday();
            document.getElementById('debugInfo').innerHTML = `
                <p><strong>ç­”æ¡ˆåºåˆ—ï¼š</strong>${answers.join(' | ')}</p>
                <p><strong>è®¿é—®æ˜ŸæœŸï¼š</strong>æ˜ŸæœŸ${weekday}</p>
                <p><strong>ç­¾æ–‡IDï¼š</strong>${fortuneId}</p>
                <p><strong>éªŒè¯çŠ¶æ€ï¼š</strong>âœ… æœ‰æ•ˆæ ·æœ¬</p>
            `;
        }

        // ========== GitHubæ•°æ®æäº¤ ==========
        async function submitToGitHub(answers, fortuneId, fortuneLevel) {
            const statusEl = document.getElementById('debugInfo');
            
            const data = {
                answers: answers,
                fortune_id: fortuneId,
                fortune_level: fortuneLevel,
                weekday: getCurrentWeekday(),
                timestamp: new Date().toISOString(),
                user_agent: navigator.userAgent.substring(0, 100),
                valid_sample: true
            };
            
            try {
                // ä½¿ç”¨GitHub APIæäº¤ï¼ˆéœ€è¦é…ç½®TOKENï¼‰
                // è¿™é‡Œç®€åŒ–ä¸ºå­˜åœ¨å‰ç«¯ï¼ˆå®é™…åº”ä½¿ç”¨åç«¯æˆ–Actionsï¼‰
                console.log('æ•°æ®å·²å‡†å¤‡æäº¤:', data);
                statusEl.innerHTML += `<p style="color:#4CAF50;">âœ… æ•°æ®æ”¶é›†æˆåŠŸï¼ˆæ§åˆ¶å°æŸ¥çœ‹ï¼‰</p>`;
                
                // å®é™…é¡¹ç›®ä¸­åº”è°ƒç”¨ä½ çš„APIç«¯ç‚¹
                // await fetch('YOUR_API_ENDPOINT', { method: 'POST', body: JSON.stringify(data) });
                
            } catch (error) {
                console.error('æäº¤å¤±è´¥:', error);
                statusEl.innerHTML += `<p style="color:#f44336;">âš ï¸ æ•°æ®æäº¤å¤±è´¥</p>`;
            }
        }
    </script>
</body>
</html>
