<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>åŸç¥æ¬§éå®ˆæ’å®šå¾‹æ£€æµ‹ä»ª</title>
    <style>
        /* æ˜Ÿç©ºèƒŒæ™¯ */
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            overflow-x: hidden;
        }

        /* æ¡Œé¢ç«¯æ¨ªå±å¼ºåˆ¶æ—‹è½¬ - ä¿®æ­£ç‰ˆæœ¬ */
        @media screen and (min-width: 768px) {
            body {
                overflow: hidden;
                display: flex;
                align-items: center;
                justify-content: center;
                height: 100vh;
                width: 100vw;
                margin: 0;
                padding: 0;
            }
            
            .container {
                transform: rotate(90deg); /* âœ… ä¿®æ­£ï¼šæ­£å€¼90deg */
                transform-origin: center center;
                width: 100vh;  /* æ—‹è½¬åå®½åº¦ = è§†å£é«˜åº¦ */
                height: 100vw; /* æ—‹è½¬åé«˜åº¦ = è§†å£å®½åº¦ */
                max-width: none;
                max-height: none;
                min-height: 0;
                padding: 20px;
                box-sizing: border-box;
            }
            
            /* é˜²æ­¢æ¨ªå±æ—¶å†…å®¹æº¢å‡º */
            .card {
                min-height: 350px;
                max-height: 70vh; /* é™åˆ¶æœ€å¤§é«˜åº¦ */
                padding: 30px; /* å‡å°‘å†…è¾¹è· */
            }
            
            /* æ¨ªå±æ—¶ç¼©å°å­—ä½“å’Œå…ƒç´  */
            .cover-title {
                font-size: 2.2em;
            }
            
            .card-title {
                font-size: 1.1em;
            }
            
            .cover-emoji {
                font-size: 3em;
            }
            
            .slider-container {
                padding: 15px;
            }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* å°é¢é¡µ */
        .cover-page {
            text-align: center;
            animation: fadeIn 1s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .cover-title {
            font-size: 3.5em;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #D4A574, #FFD700, #B8860B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(212,165,116,0.6);
        }
        .cover-subtitle {
            font-size: 1.5em;
            color: #FFD700;
            margin-bottom: 40px;
        }
        .cover-emoji {
            font-size: 4em;
            margin: 30px 0;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .start-btn {
            padding: 20px 60px;
            font-size: 1.3em;
            background: linear-gradient(45deg, #D4A574, #B8860B);
            border: none;
            border-radius: 15px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 30px 0;
        }
        .start-btn:hover {
            transform: scale(1.08);
            box-shadow: 0 0 30px rgba(212,165,116,0.8);
        }
        .terms-section {
            margin-top: 40px;
            padding: 25px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            font-size: 0.85em;
            color: #bbb;
            line-height: 1.6;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .terms-section strong {
            color: #FFD700;
        }
        .agreement-notice {
            color: #D4A574;
            font-weight: bold;
            margin-top: 15px;
            text-align: center;
        }

        /* é—®å·é¡µ */
        .survey-page {
            display: none;
            flex-direction: column;
            min-height: 600px;
        }

        /* è¿›åº¦æ¡ */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #D4A574, #FFD700);
            width: 0%;
            transition: width 0.5s ease;
        }
        .progress-text {
            text-align: center;
            margin-bottom: 20px;
            color: #D4A574;
            font-size: 0.9em;
        }

        /* å¡ç‰‡å®¹å™¨ */
        .card-container {
            position: relative;
            flex: 1;
        }
        .card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(12px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            position: absolute;
            width: 100%;
            min-height: 450px;
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.4s ease;
            pointer-events: none;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .card.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
        }
        .card.prev {
            transform: translateX(-100px);
        }

        /* å¡ç‰‡å†…å®¹ */
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .card-number {
            background: linear-gradient(45deg, #D4A574, #B8860B);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #000;
            margin-right: 15px;
        }
        .card-title {
            font-size: 1.4em;
            color: #FFD700;
        }
        .card-content p {
            font-size: 1.1em;
            margin-bottom: 20px;
            color: #fff;
        }
        .options {
            margin-bottom: 30px;
        }
        .options label {
            display: block;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
        }
        .options label:hover {
            background: rgba(212,165,116,0.15);
            border-color: rgba(212,165,116,0.5);
            transform: translateX(5px);
        }
        .options input[type="radio"] {
            display: none;
        }
        .options input[type="radio"]:checked + label {
            background: rgba(212,165,116,0.25);
            border-color: #D4A574;
        }
        .options input[type="radio"]:checked + label::after {
            content: "âœ“";
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #D4A574;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* æ»‘å—ç»„ä»¶æ ·å¼ */
        .slider-container {
            margin: 30px 0;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .slider-label {
            font-size: 1.1em;
            margin-bottom: 15px;
            display: block;
        }
        .slider-value {
            text-align: center;
            font-size: 1.5em;
            color: #D4A574;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: rgba(255,255,255,0.1);
            outline: none;
            -webkit-appearance: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(45deg, #D4A574, #FFD700);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(212,165,116,0.8);
        }
        .slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(45deg, #D4A574, #FFD700);
            cursor: pointer;
            border: none;
            box-shadow: 0 0 10px rgba(212,165,116,0.8);
        }

        /* å¡ç‰‡å†…ç½®å¯¼èˆªæŒ‰é’® */
        .card-nav {
            display: flex;
            gap: 15px;
            margin-top: auto;
        }
        .card-nav button {
            flex: 1;
            padding: 12px 20px;
            border-radius: 10px;
            border: none;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-prev {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }
        .btn-prev:hover {
            background: rgba(255,255,255,0.2);
        }
        .btn-next, .btn-submit {
            background: linear-gradient(45deg, #D4A574, #B8860B);
            color: #000;
            font-weight: bold;
        }
        .btn-next:hover, .btn-submit:hover {
            transform: scale(1.02);
            box-shadow: 0 0 15px rgba(212,165,116,0.5);
        }
        .btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        /* ç»“æœé¡µ */
        .result-page {
            display: none;
            animation: fadeIn 1s;
        }
        .fortune-card {
            background: linear-gradient(135deg, rgba(0,0,0,0.4), rgba(212,165,116,0.1));
            border: 2px solid #D4A574;
            border-radius: 20px;
            padding: 40px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 0 30px rgba(212,165,116,0.3);
        }
        .fortune-title {
            font-size: 2.2em;
            margin: 10px 0;
            color: #FFD700;
        }
        .fortune-level {
            font-size: 1.3em;
            color: #D4A574;
            margin-bottom: 20px;
        }
        .fortune-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #fff;
        }
        .fortune-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        .good, .bad {
            padding: 15px;
            border-radius: 10px;
        }
        .good {
            background: rgba(76,175,80,0.2);
            border: 1px solid #4CAF50;
        }
        .bad {
            background: rgba(244,67,54,0.2);
            border: 1px solid #f44336;
        }
        .good h4, .bad h4 {
            margin: 0 0 10px 0;
            font-size: 1.1em;
        }
        .good ul, .bad ul {
            margin: 0;
            padding-left: 20px;
            list-style: none;
        }
        .good li:before {
            content: "âœ… ";
        }
        .bad li:before {
            content: "âŒ ";
        }

        /* éªŒè¯è­¦å‘Š */
        .validation-warning {
            background: rgba(255,165,0,0.15);
            border: 1px solid #FFA500;
            border-radius: 8px;
            padding: 10px;
            margin-top: 15px;
            font-size: 0.85em;
            color: #FFD700;
        }

        /* è°ƒè¯•ä¿¡æ¯ */
        .debug-info {
            margin-top: 30px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            font-size: 0.9em;
            color: #a0a0a0;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ========== å°é¢é¡µ ========== -->
        <div id="coverPage" class="cover-page">
            <div class="cover-emoji">âš—ï¸</div>
            <h1 class="cover-title">åŸç¥æ¬§éå®ˆæ’å®šå¾‹æ£€æµ‹ä»ª</h1>
            <p class="cover-subtitle">ç§‘å­¦ç®—å‘½ï¼Œæœ€ä¸ºè‡´å‘½</p>
            
            <div class="terms-section">
                <p><strong>ğŸ“œ æ—…è¡Œè€…é¡»çŸ¥ï¼š</strong></p>
                <p>1. æœ¬æ£€æµ‹ä»…ä¾›å¨±ä¹ï¼Œç»“æœåŸºäºè™šæ„ç®—æ³•ç”Ÿæˆ</p>
                <p>2. å…¨ç¨‹åŒ¿åï¼Œä¸æ”¶é›†ä»»ä½•è´¦å·ã€è®¾å¤‡æˆ–éšç§ä¿¡æ¯</p>
                <p>3. æ•°æ®ç”¨äºç»Ÿè®¡å­¦è¯¾ç¨‹ä½œä¸šï¼Œå·²åŒ¿ååŒ–å¤„ç†</p>
                <p>4. å®˜æ–¹æŠ½å¡æ¦‚ç‡è¯·ä»¥æ¸¸æˆå†…å…¬ç¤ºä¸ºå‡†ï¼ˆ0.6%ï¼‰</p>
                <p class="agreement-notice">
                    ç‚¹å‡»"å¼€å§‹æ£€æµ‹"å³ä»£è¡¨æ‚¨åŒæ„æˆ‘ä»¬çš„æ•°æ®ä½¿ç”¨æ¡æ¬¾ä¸éšç§æ”¿ç­–
                </p>
            </div>
            
            <button class="start-btn" onclick="startSurvey()">ğŸ”® å¼€å§‹æ£€æµ‹</button>
        </div>

        <!-- ========== é—®å·é¡µ ========== -->
        <div id="surveyPage" class="survey-page" style="display:none;">
            
            <!-- âœ… Netlifyéšè—è¡¨å• -->
            <form name="genshin-fortune" netlify data-netlify="true" style="display:none;">
                <input type="hidden" name="answers">
                <input type="hidden" name="fortune_id">
                <input type="hidden" name="fortune_level">
                <input type="hidden" name="weekday">
                <input type="hidden" name="valid_sample">
                <input type="hidden" name="validation_issues">
                <input type="hidden" name="sincerity_score">
                <input type="hidden" name="suspicion_score">
                <input type="hidden" name="user_agent">
                <input type="hidden" name="timestamp">
            </form>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">1 / 9</div>

            <!-- å¡ç‰‡å®¹å™¨ -->
            <div class="card-container" id="cardContainer">
                <!-- å¡ç‰‡1 -->
                <div class="card active" data-card="1">
                    <div class="card-header">
                        <div class="card-number">1</div>
                        <div class="card-title">å‘½ä¹‹åº§èŠ‚å¾‹æ£€æµ‹</div>
                    </div>
                    <div class="card-content">
                        <p>ä½ çš„"å‘½ä¹‹åº§"ä¸æç“¦ç‰¹å…±é¸£é¢‘ç‡æ˜¯ï¼Ÿ</p>
                        <div class="options">
                            <input type="radio" id="q1_1" name="q1" value="1" onchange="enableNext(1)">
                            <label for="q1_1">ã€å²©ã€‘æ¯å‘¨1-2æ¬¡ï¼ˆéšç¼˜å†¥æƒ³ï¼‰</label>
                            <input type="radio" id="q1_2" name="q1" value="2" onchange="enableNext(1)">
                            <label for="q1_2">ã€é£ã€‘æ¯å‘¨3-4æ¬¡ï¼ˆæ—¥å¸¸å·¡æ¸¸ï¼‰</label>
                            <input type="radio" id="q1_3" name="q1" value="3" onchange="enableNext(1)">
                            <label for="q1_3">ã€é›·ã€‘æ¯å‘¨5-6æ¬¡ï¼ˆæ·±åº¦å…±é¸£ï¼‰</label>
                            <input type="radio" id="q1_4" name="q1" value="4" onchange="enableNext(1)">
                            <label for="q1_4">ã€ç«ã€‘æ¯æ—¥ä¸Šçº¿ï¼ˆå…¨å‹¤æˆ˜ç¥ï¼‰</label>
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" disabled>â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()" disabled>ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡2 -->
                <div class="card" data-card="2">
                    <div class="card-header">
                        <div class="card-number">2</div>
                        <div class="card-title">æ˜Ÿè¾‰å¥‘çº¦çº¹ç« é‰´å®š</div>
                    </div>
                    <div class="card-content">
                        <p>ä½ çš„"å¥‘çº¦çº¹ç« "åœ¨æç“¦ç‰¹é“¶è¡Œç•™ä¸‹çš„å°è®°æ·±åº¦ï¼Ÿ</p>
                        <div class="options">
                            <input type="radio" id="q2_0" name="q2" value="0" onchange="enableNext(2)">
                            <label for="q2_0">ã€ç™½å«–ä¹‹è¯ã€‘0å…ƒï¼ˆå¤©ç†æ— éœ€äº¤æ˜“ï¼‰</label>
                            <input type="radio" id="q2_1" name="q2" value="1" onchange="enableNext(2)">
                            <label for="q2_1">ã€æœˆå¡ç¬¦æ–‡ã€‘6-98å…ƒï¼ˆå°é¢ä¾›å¥‰ï¼‰</label>
                            <input type="radio" id="q2_2" name="q2" value="2" onchange="enableNext(2)">
                            <label for="q2_2">ã€648åœ£ç—•ã€‘99-998å…ƒï¼ˆä¸­é¢çŒ®ç¥­ï¼‰</label>
                            <input type="radio" id="q2_3" name="q2" value="3" onchange="enableNext(2)">
                            <label for="q2_3">ã€è‚¡ä¸œçº¹ç« ã€‘999å…ƒ+ï¼ˆå¤§é™†æ°¸ä¹…äº§æƒï¼‰</label>
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()" disabled>ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡3 -->
                <div class="card" data-card="3">
                    <div class="card-header">
                        <div class="card-number">3</div>
                        <div class="card-title">æ—¶ä¹‹æ²™æ¼åˆ»åº¦æ ¡å‡†</div>
                    </div>
                    <div class="card-content">
                        <p>è¿‡å»ä¸€ä¸ªæœˆï¼Œä½ çš„"æ—¶ä¹‹æ²™"åœ¨å“ªä¸ªåˆ»åº¦è½¬åŠ¨æœ€é¡ºæ»‘ï¼Ÿ</p>
                        <div class="options">
                            <input type="radio" id="q3_1" name="q3" value="1" onchange="enableNext(3)">
                            <label for="q3_1">ã€å­æ—¶ã€‘00:00-06:00ï¼ˆæ·±å¤œç„å­¦ï¼‰</label>
                            <input type="radio" id="q3_2" name="q3" value="2" onchange="enableNext(3)">
                            <label for="q3_2">ã€åˆæ—¶ã€‘12:00-14:00ï¼ˆæ­£åˆé˜³æ°”ï¼‰</label>
                            <input type="radio" id="q3_3" name="q3" value="3" onchange="enableNext(3)">
                            <label for="q3_3">ã€é…‰æ—¶ã€‘18:00-24:00ï¼ˆé»„æ˜è½¬è¿ï¼‰</label>
                            <input type="radio" id="q3_4" name="q3" value="4" onchange="enableNext(3)">
                            <label for="q3_4">ã€éšæœºã€‘çœ‹ç¼˜åˆ†ï¼ˆæ—¶ç©ºä¹±æµï¼‰</label>
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()" disabled>ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡4 -->
                <div class="card" data-card="4">
                    <div class="card-header">
                        <div class="card-number">4</div>
                        <div class="card-title">ä¸ƒå¤©ç¥åƒå……èƒ½ç‡</div>
                    </div>
                    <div class="card-content">
                        <p>æœ€è¿‘7å¤©ï¼Œä½ çš„ç¥åƒå…±é¸£å›è·¯å®Œæ•´åº¦ï¼Ÿ</p>
                        <div class="slider-container">
                            <label class="slider-label" for="q4">å®é™…ç™»å½•å¤©æ•°</label>
                            <div class="slider-value" id="q4Value">0 å¤©</div>
                            <input type="range" id="q4" name="q4" class="slider" min="0" max="7" value="0" 
                                   oninput="updateSliderValue('q4', 'q4Value', 'å¤©')">
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()">ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡5 æµ‹è°é™·é˜±é¢˜ -->
                <div class="card" data-card="5">
                    <div class="card-header">
                        <div class="card-number">5</div>
                        <div class="card-title">åœ£é—ç‰©å…±é¸£ä»ªå¼</div>
                    </div>
                    <div class="card-content">
                        <p>æŠ½å¡å‰ï¼Œä½ é€šå¸¸ä¼šè¿›è¡Œå“ªç§åœ£é—ç‰©å…±é¸£ä»ªå¼ï¼Ÿ</p>
                        <div class="options">
                            <input type="radio" id="q5_1" name="q5" value="1" onchange="enableNext(5)">
                            <label for="q5_1">ã€æ•´ç†æ´¾ã€‘å°†èƒŒåŒ…æŒ‰æ˜Ÿçº§é¢œè‰²æ’åº</label>
                            <input type="radio" id="q5_2" name="q5" value="2" onchange="enableNext(5)">
                            <label for="q5_2">ã€ç„å­¦æ´¾ã€‘åœ¨é£èµ·åœ°è¿ç»­è·³è·ƒ7æ¬¡å†æŠ½</label>
                            <input type="radio" id="q5_3" name="q5" value="3" onchange="enableNext(5)">
                            <label for="q5_3">ã€ä»ªå¼æ´¾ã€‘ç”¨å·¦æ‰‹æ— åæŒ‡ç‚¹å‡»ç¥ˆæ„¿æŒ‰é’®</label>
                            <input type="radio" id="q5_4" name="q5" value="4" onchange="enableNext(5)">
                            <label for="q5_4">ã€æç«¯æ´¾ã€‘æ¯æ¬¡æŠ½å¡å‰å¸è½½é‡è£…æ¸¸æˆ</label>
                            <input type="radio" id="q5_5" name="q5" value="5" onchange="enableNext(5)">
                            <label for="q5_5">ã€ç°å®æ´¾ã€‘æ— æ‰€è°“ï¼Œç›´æ¥æŠ½</label>
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()" disabled>ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡6 -->
                <div class="card" data-card="6">
                    <div class="card-header">
                        <div class="card-number">6</div>
                        <div class="card-title">å‘½å®šå€¼ç´¯ç§¯è¿›åº¦</div>
                    </div>
                    <div class="card-content">
                        <p>å½“å‰ä½ çš„"å‘½å®šå€¼"ç´¯ç§¯åˆ°å“ªä¸ªèŠ‚ç‚¹ï¼Ÿ</p>
                        <div class="options">
                            <input type="radio" id="q6_1" name="q6" value="1" onchange="enableNext(6)">
                            <label for="q6_1">0-20æŠ½ï¼ˆåˆšé‡ç½®ï¼Œä»é›¶å¼€å§‹ï¼‰</label>
                            <input type="radio" id="q6_2" name="q6" value="2" onchange="enableNext(6)">
                            <label for="q6_2">21-50æŠ½ï¼ˆå°å«å‡ æ‰‹ï¼‰</label>
                            <input type="radio" id="q6_3" name="q6" value="3" onchange="enableNext(6)">
                            <label for="q6_3">51-75æŠ½ï¼ˆæ¥è¿‘ä¿åº•ï¼‰</label>
                            <input type="radio" id="q6_4" name="q6" value="4" onchange="enableNext(6)">
                            <label for="q6_4">76-90æŠ½ï¼ˆå¤§ä¿åº•ä¸´ç•Œï¼‰</label>
                            <input type="radio" id="q6_5" name="q6" value="5" onchange="enableNext(6)">
                            <label for="q6_5">90æŠ½+ï¼ˆå·²ç¡¬åƒä¿åº•ï¼‰</label>
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()" disabled>ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡7 -->
                <div class="card" data-card="7">
                    <div class="card-header">
                        <div class="card-number">7</div>
                        <div class="card-title">æ˜Ÿè¾‰å›å“ä½™éŸµ</div>
                    </div>
                    <div class="card-content">
                        <p>ä¸Šæ¬¡"é‡‘è‰²ä¼ è¯´"çš„ä½™éŸµï¼Œè‡³ä»Šå›è¡äº†å¤šä¹…ï¼Ÿ</p>
                        <div class="options">
                            <input type="radio" id="q7_1" name="q7" value="1" onchange="enableNext(7)">
                            <label for="q7_1">7å¤©å†…ï¼ˆæ˜¨æ—¥é‡ç°ï¼‰</label>
                            <input type="radio" id="q7_2" name="q7" value="2" onchange="enableNext(7)">
                            <label for="q7_2">8-30å¤©ï¼ˆæœ¬å‘¨è®°å¿†ï¼‰</label>
                            <input type="radio" id="q7_3" name="q7" value="3" onchange="enableNext(7)">
                            <label for="q7_3">31-90å¤©ï¼ˆä¸Šæœˆå°è®°ï¼‰</label>
                            <input type="radio" id="q7_4" name="q7" value="4" onchange="enableNext(7)">
                            <label for="q7_4">90å¤©+ï¼ˆè¿œå¤åŒ–çŸ³ï¼‰</label>
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()" disabled>ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡8 -->
                <div class="card" data-card="8">
                    <div class="card-header">
                        <div class="card-number">8</div>
                        <div class="card-title">å¤©ç†å›åº”å¥‘åˆåº¦</div>
                    </div>
                    <div class="card-content">
                        <p>ä¸Šæ¬¡5æ˜Ÿï¼Œä¸ä½ çš„å¿ƒæ„å¥‘åˆåº¦ï¼Ÿ</p>
                        <div class="options">
                            <input type="radio" id="q8_1" name="q8" value="1" onchange="enableNext(8)">
                            <label for="q8_1">ã€å®Œå…¨å¥‘åˆã€‘æ­£æ˜¯æˆ‘ç¥ˆæ„¿çš„é‚£ä½</label>
                            <input type="radio" id="q8_2" name="q8" value="2" onchange="enableNext(8)">
                            <label for="q8_2">ã€æ­ªäº†ä½†èƒ½ç”¨ã€‘ä¸æ˜¯ç›®æ ‡ä½†èƒ½æ¥å—</label>
                            <input type="radio" id="q8_3" name="q8" value="3" onchange="enableNext(8)">
                            <label for="q8_3">ã€ç»å…¸æ­ªäº†ã€‘ä¿åº•ç»™äº†å¸¸é©»/æ­¦å™¨</label>
                            <input type="radio" id="q8_4" name="q8" value="4" onchange="enableNext(8)">
                            <label for="q8_4">ã€æ²¡å°è±¡äº†ã€‘æ—¶é—´å¤ªä¹…è®°ä¸æ¸…</label>
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-next" onclick="nextCard()" disabled>ä¸‹ä¸€é¢˜ â†’</button>
                    </div>
                </div>

                <!-- å¡ç‰‡9 -->
                <div class="card" data-card="9">
                    <div class="card-header">
                        <div class="card-number">9</div>
                        <div class="card-title">åœ°è„‰è¿åŠ¿æŒ‡æ•°</div>
                    </div>
                    <div class="card-content">
                        <p>å¦‚æœç»™ä»Šå¤©çš„æŠ½å¡è¿æ°”æ‰“åˆ†ï¼ˆ0%=çº¯éé…‹ï¼Œ100%=æ¬§çš‡é™„ä½“ï¼‰</p>
                        <div class="slider-container">
                            <div class="slider-value" id="q9Value">50%</div>
                            <input type="range" id="q9" name="q9" class="slider" min="0" max="100" value="50" 
                                   oninput="updateSliderValue('q9', 'q9Value', '%')">
                        </div>
                    </div>
                    <div class="card-nav">
                        <button class="btn btn-prev" onclick="prevCard()">â† ä¸Šä¸€é¢˜</button>
                        <button class="btn btn-submit" onclick="submitSurvey()">ğŸ”® ç”Ÿæˆèƒ½é‡å°è®°</button>
                    </div>
                </div>

            </div>
        </div>

        <!-- ========== ç»“æœé¡µ ========== -->
        <div id="resultPage" class="result-page" style="display:none;">
            <div class="fortune-card">
                <div class="fortune-title" id="fortuneTitle"></div>
                <div class="fortune-level" id="fortuneLevel"></div>
                <div class="fortune-text" id="fortuneText"></div>
            </div>

            <div class="fortune-details" id="fortuneDetails"></div>

            <!-- éªŒè¯è­¦å‘Šæç¤º -->
            <div id="validationWarning" class="validation-warning" style="display:none;"></div>

            <div class="debug-info" id="debugInfo"></div>

            <button type="button" class="btn" onclick="restart()" style="margin-top: 20px;">é‡æ–°æ£€æµ‹</button>
        </div>
    </div>

    <script>
        // ========== é€‚å®œé¡¹æ± å­ ==========
        const GOOD_POOLS = {
            top: ['å•æŠ½å‡ºå¥‡è¿¹', '648æ¢­å“ˆ', 'æ­¦å™¨æ± è®¸æ„¿', 'é™å®šUP', 'å‘½åº§å†²åˆº', 'ä¸“æ­¦æŠ½å–'],
            good: ['æœˆå¡åæŠ½', 'é£èµ·åœ°æŠ½å¡', 'é›¶ç‚¹åæŠ½', 'åè¿ä¿åº•', 'æ”’å¤Ÿ180æŠ½', 'ç™½å«–å•æŠ½'],
            mid: ['éšç¼˜å«åˆ€', 'åˆ·æœ¬æ”’åŸçŸ³', 'è§‚æœ›æ± å­', 'åšå§”æ‰˜', 'æ·éª°å­å†³å®š', 'åˆ·Bç«™æ”»ç•¥'],
            bad: ['ä¸‹çº¿ä¿å¹³å®‰', 'ç­‰ä¸‹æ¬¡å¤åˆ»', 'æ­¦å™¨æ± ', 'å†²åŠ¨æ¶ˆè´¹', 'æ°ªé‡‘ä¸Šå¤´'],
            worst: ['åˆ é™¤æ¸¸æˆ', 'ç»™ä¸»æ’­ä¸Šä¾›', 'çœ‹é£æ™¯', 'æ°¸ä¹…é€€å‘']
        };

        // ========== ä¸å®œé¡¹æ± å­ ==========
        const BAD_POOLS = {
            top: ['æ”’åŸçŸ³', 'çŠ¹è±«è§‚æœ›', 'é€€å‡ºæ¸¸æˆ'],
            good: ['æ­¦å™¨æ± ', 'æ­£åˆæŠ½å¡', 'ç»§ç»­å›¤'],
            mid: ['æ°ªé‡‘æ¢­å“ˆ', 'å†²åŠ¨ä¸Šå¤´', 'ç„å­¦ä»ªå¼'],
            bad: ['648æ°ªé‡‘', 'å«åˆ€', 'åè¿å†²', 'æ­¦å™¨æ± '],
            worst: ['æ°ªé‡‘', 'åè¿', 'æŠ½å¡', 'å«åˆ€']
        };

        // ========== ç­¾æ–‡ä¸»æ•°æ®åº“ ==========
        const FORTUNE_DATABASE = {
            'top-0': { title: 'ğŸŒŸ æ¬§çš‡é™„ä½“Â·å¤©ç†é’¦å®š', level: 'ä¸Šä¸Šç­¾', text: 'ä»Šæ—¥è¿åŠ¿çˆ†æ£šï¼å»ºè®®ç«‹åˆ»å•æŠ½è¯•æ¢ï¼Œåè¿å¿…å‡ºåŒé»„è›‹ï¼' },
            'top-1': { title: 'ğŸ’ 648åœ£é—ç‰©Â·è‚¡ä¸œç‰¹æƒ', level: 'ä¸Šä¸Šç­¾', text: 'æç“¦ç‰¹å¤§é™†ä»Šå¤©ä¸ºä½ è½¬åŠ¨ï¼æ­ªäº†ç®—æˆ‘çš„ï¼' },
            'good-0': { title: 'âœ¨ ç’ƒæœˆé¦–å¯ŒÂ·è´¢è¿äº¨é€š', level: 'ä¸Šç­¾', text: 'è´¢è¿+æŠ½å¡è¿åŒbuffï¼Œå»ºè®®å…ˆä¹°æœˆå¡å†æŠ½ï¼' },
            'good-1': { title: 'ğŸ€ é£èµ·åœ°æ¬§çš‡Â·ç„å­¦æœ‰æ•ˆ', level: 'ä¸Šç­¾', text: 'ç„å­¦åœ°ç‚¹åŠ æˆ50%ï¼å»é£èµ·åœ°å¤§æ©¡æ ‘ä¸‹è¯•è¯•ï¼' },
            'good-2': { title: 'ğŸ² åè¿çœŸç”·äººÂ·ä¿åº•ä¿æŠ¤', level: 'ä¸Šç­¾', text: 'åè¿ä¿åº•æœºåˆ¶ä»Šå¤©ç‰¹åˆ«çµï¼å†²ä¸€å‘ï¼' },
            'mid-0': { title: 'ğŸ“Š æç“¦ç‰¹å¹³å‡è„¸Â·ä¼—ç”Ÿå¹³ç­‰', level: 'ä¸­ç­¾', text: 'ä»Šæ—¥è¿åŠ¿=æœåŠ¡å™¨å¹³å‡å€¼ï¼Œå»ºè®®ä½›ç³»æŠ½å¡' },
            'mid-1': { title: 'ğŸ­ æ™®é€šå¤©æ°”Â·æ— é£æ— æµª', level: 'ä¸­ç­¾', text: 'ä»Šå¤©é€‚åˆæ¸…æ ‘è„‚ï¼ŒæŠ½å¡å»ºè®®æ˜å¤©å†è¯´' },
            'mid-2': { title: 'â˜¯ï¸ æ¬§éå®ˆæ’Â·åŠ¨æ€å¹³è¡¡', level: 'ä¸­ç­¾', text: 'ä»Šæ—¥éé…‹=æ˜æ—¥æ¬§çš‡ï¼Œå»ºè®®å‚¨è“„è¿åŠ¿' },
            'bad-0': { title: 'ğŸ’€ 648åå‘ä¿æŠ¤Â·æ€ç†Ÿé¢„è­¦', level: 'ä¸‹ç­¾', text: 'ç³»ç»Ÿæ£€æµ‹åˆ°è‚¡ä¸œèº«ä»½ï¼Œæ¦‚ç‡-50%' },
            'bad-1': { title: 'ğŸª¦ éé…‹è®¤è¯Â·ä»Šæ—¥ä¸å®œ', level: 'ä¸‹ç­¾', text: 'ä»Šæ—¥æŠ½å¡æˆåŠŸç‡0.01%ï¼Œå»ºè®®ç»™ä¸»æ’­ä¸Šä¾›' },
            'worst-0': { title: 'â˜ ï¸ 648ç»ˆæéé…‹Â·å¤©ç†éš¾å®¹', level: 'ä¸‹ä¸‹ç­¾', text: 'ä»Šæ—¥æŠ½å¡=åŸçŸ³é”€æ¯å™¨ï¼Œå»ºè®®ç»™mhyæ‰“é’±åˆ«æŠ½äº†' }
        };

        // ========== å…¨å±€å˜é‡ ==========
        let currentCard = 1;
        const totalCards = 9;

        // ========== å°é¢é¡µ ==========
        function startSurvey() {
            document.getElementById('coverPage').style.display = 'none';
            document.getElementById('surveyPage').style.display = 'flex';
            updateProgress();
            updateButtons();
        }

        // ========== æ»‘å—å€¼æ›´æ–° ==========
        function updateSliderValue(sliderId, valueId, suffix) {
            const slider = document.getElementById(sliderId);
            const valueDisplay = document.getElementById(valueId);
            valueDisplay.textContent = slider.value + suffix;
            enableNext(currentCard);
        }

        // ========== é€‰é¡¹å˜åŒ–æ—¶å¯ç”¨ä¸‹ä¸€é¢˜ ==========
        function enableNext(cardNum) {
            const cardEl = document.querySelector(`[data-card="${cardNum}"]`);
            const nextBtn = cardEl.querySelector('.btn-next, .btn-submit');
            nextBtn.disabled = false;
            updateButtons();
        }

        // ========== å¡ç‰‡åˆ‡æ¢ ==========
        function nextCard() {
            if (currentCard < totalCards) {
                const currentCardEl = document.querySelector(`[data-card="${currentCard}"]`);
                currentCardEl.classList.remove('active');
                currentCardEl.classList.add('prev');
                
                currentCard++;
                const nextCardEl = document.querySelector(`[data-card="${currentCard}"]`);
                nextCardEl.classList.add('active');
                
                updateProgress();
                updateButtons();
            }
        }

        function prevCard() {
            if (currentCard > 1) {
                const currentCardEl = document.querySelector(`[data-card="${currentCard}"]`);
                currentCardEl.classList.remove('active');
                
                currentCard--;
                const prevCardEl = document.querySelector(`[data-card="${currentCard}"]`);
                prevCardEl.classList.remove('prev');
                prevCardEl.classList.add('active');
                
                updateProgress();
                updateButtons();
            }
        }

        // ========== æ›´æ–°è¿›åº¦å’ŒæŒ‰é’® ==========
        function updateProgress() {
            const progress = (currentCard / totalCards) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentCard} / ${totalCards}`;
        }

        function updateButtons() {
            const cardEl = document.querySelector(`[data-card="${currentCard}"]`);
            let isAnswered = false;
            
            if (currentCard === 4) {
                isAnswered = document.getElementById('q4').value !== '0';
            } else if (currentCard === 9) {
                isAnswered = true;
            } else {
                isAnswered = !!cardEl.querySelector('input[type="radio"]:checked');
            }
            
            const nextBtn = cardEl.querySelector('.btn-next, .btn-submit');
            if (nextBtn) {
                nextBtn.disabled = !isAnswered;
            }
            
            const prevBtn = cardEl.querySelector('.btn-prev');
            if (prevBtn) {
                prevBtn.disabled = currentCard === 1;
            }
        }

        // ========== æäº¤é—®å· ==========
        function submitSurvey() {
            const answers = collectAnswers();
            if (!answers) return;
            
            const validation = validateAnswers(answers);
            const fortuneId = calculateFortune(answers);
            const fortune = FORTUNE_DATABASE[fortuneId];
            const { good, bad } = generateGoodBad(fortuneId, fortune.level, answers);
            
            showFortune(fortune, good, bad, answers, fortuneId, validation);
            submitToNetlify(answers, fortuneId, fortune.level, validation);
        }

        // ========== æ”¶é›†ç­”æ¡ˆ ==========
        function collectAnswers() {
            const answers = [];
            
            for (let i = 1; i <= 3; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (!selected) { alert(`è¯·å›ç­”ç¬¬${i}é¢˜ï¼`); return null; }
                answers.push(selected.value);
            }
            
            answers.push(document.getElementById('q4').value);
            
            for (let i = 5; i <= 8; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (!selected) { alert(`è¯·å›ç­”ç¬¬${i}é¢˜ï¼`); return null; }
                answers.push(selected.value);
            }
            
            answers.push(document.getElementById('q9').value);
            
            return answers;
        }

        // ========== äº¤å‰éªŒè¯é€»è¾‘ ==========
        function validateAnswers(answers) {
            const q1 = parseInt(answers[0]);
            const q4 = parseInt(answers[3]);
            const q6 = parseInt(answers[5]);
            const q7 = parseInt(answers[6]);
            const q8 = parseInt(answers[7]);
            const q9 = parseInt(answers[8]);
            const q5 = parseInt(answers[4]);
            
            const issues = [];
            
            const activityGap = Math.abs(q1 - Math.ceil(q4 / 2));
            if (activityGap >= 2) issues.push('è‡ªè¯„ä¸è¡Œä¸ºä¸¥é‡ä¸ç¬¦');
            
            if (q6 <= 2 && q7 >= 3) issues.push('ä¿åº•æ„ŸçŸ¥ä¸å‡ºè´§æ—¶é—´å†²çª');
            
            const objectiveLuck = (q7 <= 2 ? 0.3 : 0) + (q8 <= 2 ? 0.3 : 0);
            const perceptionGap = Math.abs(q9/100 - (1 - objectiveLuck));
            if (perceptionGap >= 0.5) issues.push('è®¤çŸ¥åå·®å¼‚å¸¸');
            
            const sincerityScore = (q5 === 3 || q5 === 4) ? 0 : 1;
            if (sincerityScore === 0) issues.push('æµ‹è°é™·é˜±è§¦å‘');
            
            return {
                valid: issues.length === 0,
                issues: issues,
                warning: issues.length > 0 ? 'âš ï¸ æ£€æµ‹åˆ°é€»è¾‘çŸ›ç›¾' : null,
                metrics: {
                    activity_gap: activityGap,
                    luck_perception_gap: perceptionGap.toFixed(2),
                    sincerity_score: sincerityScore,
                    suspicion_score: issues.length * 0.3 + (sincerityScore === 0 ? 0.5 : 0)
                }
            };
        }

        // ========== æ—¶é—´å“ˆå¸Œ ==========
        function getCurrentWeekday() {
            return new Date().getDay();
        }

        function hashString(str) {
            let hash = 5381;
            for (let i = 0; i < str.length; i++) {
                hash = (hash * 33) ^ str.charCodeAt(i);
            }
            return hash >>> 0;
        }

        // ========== è®¡ç®—è¿åŠ¿ ==========
        function calculateFortune(answers) {
            const answerStr = answers.join(',');
            const weekday = getCurrentWeekday();
            const hash = hashString(answerStr + weekday);
            const fortuneIndex = hash % 11;
            
            if (fortuneIndex < 2) return 'top-' + fortuneIndex;
            if (fortuneIndex < 5) return 'good-' + (fortuneIndex - 2);
            if (fortuneIndex < 8) return 'mid-' + (fortuneIndex - 5);
            if (fortuneIndex < 10) return 'bad-' + (fortuneIndex - 8);
            return 'worst-0';
        }

        // ========== ç”Ÿæˆé€‚å®œ/ä¸å®œ ==========
        function generateGoodBad(fortuneId, level, answers) {
            if (level === 'ä¸Šä¸Šç­¾') return { good: ['è¯¸äº‹çš†å®œ'], bad: [] };
            if (level === 'ä¸‹ä¸‹ç­¾') return { good: [], bad: ['è¯¸äº‹ä¸å®œ'] };
            
            const hash = hashString(answers.join('') + fortuneId);
            
            const levelMap = {
                'ä¸Šç­¾': 'good',
                'ä¸­ç­¾': 'mid',
                'ä¸‹ç­¾': 'bad'
            };
            const poolKey = levelMap[level] || 'mid';
            
            const goodPool = [...GOOD_POOLS[poolKey]];
            const badPool = [...BAD_POOLS[poolKey]];
            
            const good1 = goodPool[hash % goodPool.length];
            let good2 = goodPool[(hash * 7) % goodPool.length];
            if (good2 === good1) good2 = goodPool[(goodPool.indexOf(good1) + 1) % goodPool.length];
            
            const bad1 = badPool[hash % badPool.length];
            let bad2 = badPool[(hash * 13) % badPool.length];
            if (bad2 === bad1) bad2 = badPool[(badPool.indexOf(bad1) + 1) % badPool.length];
            
            return { good: [good1, good2], bad: [bad1, bad2] };
        }

        // ========== æ˜¾ç¤ºç»“æœ ==========
        function showFortune(fortune, good, bad, answers, fortuneId, validation) {
            document.getElementById('surveyPage').style.display = 'none';
            document.getElementById('resultPage').style.display = 'block';
            
            document.getElementById('fortuneTitle').innerHTML = fortune.title;
            document.getElementById('fortuneLevel').textContent = `ã€Œ${fortune.level}ã€`;
            document.getElementById('fortuneText').textContent = fortune.text;
            
            const detailsHTML = `
                <div class="good">
                    <h4>âœ… ä»Šæ—¥é€‚å®œ</h4>
                    <ul>${good.map(item => `<li>${item}</li>`).join('')}</ul>
                </div>
                <div class="bad">
                    <h4>âŒ ä»Šæ—¥ä¸å®œ</h4>
                    <ul>${bad.map(item => `<li>${item}</li>`).join('')}</ul>
                </div>
            `;
            document.getElementById('fortuneDetails').innerHTML = detailsHTML;
            
            const warningEl = document.getElementById('validationWarning');
            if (validation.warning) {
                warningEl.textContent = validation.warning;
                warningEl.style.display = 'block';
            } else {
                warningEl.style.display = 'none';
            }
            
            const weekday = getCurrentWeekday();
            const weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
            const qualityBadge = validation.metrics.sincerity_score === 1 ? 
                'âœ… æœ‰æ•ˆæ ·æœ¬' : 'âš ï¸ å¯ç–‘æ ·æœ¬';
            
            document.getElementById('debugInfo').innerHTML = `
                <p><strong>ç­”æ¡ˆåºåˆ—ï¼š</strong>${answers.join(' | ')}</p>
                <p><strong>è®¿é—®æ—¶é—´ï¼š</strong>æ˜ŸæœŸ${weekdays[weekday]}</p>
                <p><strong>ç­¾æ–‡IDï¼š</strong>${fortuneId}</p>
                <p><strong>æ ·æœ¬è´¨é‡ï¼š</strong>${qualityBadge}</p>
                <p><strong>å¯ç–‘åº¦ï¼š</strong>${(validation.metrics.suspicion_score * 100).toFixed(0)}%</p>
            `;
        }

        // ========== æäº¤åˆ°Netlify ==========
        async function submitToNetlify(answers, fortuneId, fortuneLevel, validation) {
            const form = document.querySelector('form[name="genshin-fortune"]');
            
            form.answers.value = JSON.stringify(answers);
            form.fortune_id.value = fortuneId;
            form.fortune_level.value = fortuneLevel;
            form.weekday.value = getCurrentWeekday();
            form.valid_sample.value = validation.valid;
            form.validation_issues.value = JSON.stringify(validation.issues);
            form.sincerity_score.value = validation.metrics.sincerity_score;
            form.suspicion_score.value = validation.metrics.suspicion_score;
            form.user_agent.value = navigator.userAgent;
            form.timestamp.value = new Date().toISOString();
            
            const formData = new FormData(form);
            
            try {
                const response = await fetch('/', {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    console.log('âœ… æ•°æ®å·²æˆåŠŸæäº¤åˆ°Netlify');
                    document.getElementById('debugInfo').innerHTML += 
                        `<p style="color:#4CAF50;">âœ… æ•°æ®å·²å®‰å…¨é€è¾¾Netlifyåå°</p>`;
                } else {
                    console.error('âŒ æäº¤å¤±è´¥:', response.status);
                    document.getElementById('debugInfo').innerHTML += 
                        `<p style="color:#f44336;">âš ï¸ æ•°æ®æäº¤å¤±è´¥ï¼ˆä½†ä¸å½±å“ç»“æœå±•ç¤ºï¼‰</p>`;
                }
            } catch (error) {
                console.error('æäº¤é”™è¯¯:', error);
                document.getElementById('debugInfo').innerHTML += 
                    `<p style="color:#FFA500;">âš ï¸ ç½‘ç»œå¼‚å¸¸ï¼Œæ•°æ®æœªä¸Šä¼ </p>`;
            }
        }

        // ========== é‡æ–°å¼€å§‹ ==========
        function restart() {
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            document.getElementById('q4').value = 0;
            document.getElementById('q9').value = 50;
            updateSliderValue('q4', 'q4Value', 'å¤©');
            updateSliderValue('q9', 'q9Value', '%');
            
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('active', 'prev');
            });
            document.querySelector('[data-card="1"]').classList.add('active');
            
            currentCard = 1;
            updateProgress();
            updateButtons();
            
            document.getElementById('resultPage').style.display = 'none';
            document.getElementById('surveyPage').style.display = 'none';
            document.getElementById('coverPage').style.display = 'block';
        }
    </script>
</body>
</html>
